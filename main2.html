<html>
<head>
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
	integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
	crossorigin=""/>

	<!-- Make sure you put this AFTER Leaflet's CSS -->
	<script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
	integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
	crossorigin="">
	</script>

</head>
<body>
		<div id="mapid" style="width: 100%; height: 100%"></div>

		<script>
		var map = L.map('mapid').setView([48.239306, 16.377313], 13);

		L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
			attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
		}).addTo(map);

		// var marker = L.marker([48.239306, 16.377313]).addTo(map);
		// marker.bindPopup("<b>UAS Technikum Wien</b><br>Let's study!")

		// var circle = L.circle([48.239306, 16.377313], {
		// 	color: 'red',
		// 	fillColor: '#f03',
		// 	fillOpacity: 0.5,
		// 	radius: 500
		// }).addTo(map);

		var requestURL = 'https://data.wien.gv.at/daten/geo?service=WFS&request=GetFeature&version=1.1.0&typeName=ogdwien:BEZIRKSGRENZEOGD&srsName=EPSG:4326&outputFormat=json';
		var request = new XMLHttpRequest();
		request.open('GET', requestURL);
		request.responseType = 'json';
		request.send();
		request.onload = function() {
			var rawdata = request.response;
			district(rawdata);
		}

		function district(data) {
			var i;
			for (i=0; i<23; i++) {
				convert(data['features'][i]['geometry']['coordinates'][0]);
			}
		}

		function convert(data) {
			var i;
			for (i=0; i<data.length; i++) {
				var tmp;
				tmp = data[i][0];
				data[i][0] = data[i][1];
				data[i][1] = tmp;
			}
			console.log(data);
			draw(data);
		}

		function draw(array) {
			var polygon = L.polygon(array).addTo(map);
		}

      // }
      // function readTextFile(file) {
      // 	var rawFile = new XMLHttpRequest();
      // 	rawFile.open("GET", file, false);
      // 	rawFile.onreadystatechange = function() {
      // 		if(rawFile.readyState === 4) {
      // 			if(rawFile.status === 200 || rawFile.status == 0) {
      // 				var allText = rawFile.responseText;
      // 				alert(allText);
      // 			}
      //   	}
      // 	}
      // 	rawFile.send(null);
      // }

      // readTextFile("file:///C:/xampp/htdocs/webapp/file/BEZIRKSGRENZEOGD.json");
  //   	var fs = require("fs");
		// var data = fs.readFileSync("file/BEZIRKSGRENZEOGD.json");
		// console.log(data);

		</script>
</body>
</html>